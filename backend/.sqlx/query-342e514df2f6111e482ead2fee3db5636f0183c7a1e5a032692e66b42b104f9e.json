{
  "db_name": "PostgreSQL",
  "query": "\n        INSERT INTO torrent_activities(torrent_id, user_id)\n        VALUES ($1, $2)\n        ON CONFLICT (torrent_id, user_id) DO UPDATE\n        SET\n            total_seed_time = CASE\n                WHEN torrent_activities.last_seen_at < NOW() - ($3 || ' seconds')::INTERVAL\n                THEN torrent_activities.total_seed_time + EXTRACT(EPOCH FROM (NOW() - torrent_activities.last_seen_at))::BIGINT\n                ELSE torrent_activities.total_seed_time\n            END,\n            last_seen_at = NOW()\n        ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Int8",
        "Int8",
        "Text"
      ]
    },
    "nullable": []
  },
  "hash": "342e514df2f6111e482ead2fee3db5636f0183c7a1e5a032692e66b42b104f9e"
}
